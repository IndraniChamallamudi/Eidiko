

CREATE COMPUTE MODULE basic_Compute1
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		-- CALL CopyMessageHeaders();
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;

	CREATE PROCEDURE CopyEntireMessage() BEGIN
		DECLARE i INTEGER 1;
		DECLARE res REFERENCE TO InputRoot.XMLNSC.details.abathch;
		WHILE LASTMOVE(res) DO
		SET OutputRoot.XMLNSC.details.abathch[i].id = InputRoot.XMLNSC.details.abathch[i].id;
		SET OutputRoot.XMLNSC.details.abathch[i].name = InputRoot.XMLNSC.details.abathch[i].name;
		SET OutputRoot.XMLNSC.details.abathch[i].location = InputRoot.XMLNSC.details.abathch[i].location;
		SET i = i+1;
		MOVE res NEXTSIBLING;
		END WHILE;
	END;
END MODULE;
